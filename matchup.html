<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Rage Space â€” Matchup</title>

<link rel="stylesheet" href="style.css"/>

<style>
/* ===== BASE ===== */
body {
  background:#0b0f13;
  color:#e5e7eb;
  font-family:system-ui,Segoe UI,Roboto;
  margin:0;
}
.wrap { max-width:700px; margin:auto; padding:16px 12px 96px; }

/* ===== HEADER ===== */
.timer {
  font-size:32px;
  padding:8px 14px;
  border:1px solid #20242a;
  border-radius:12px;
  background:#0f1318;
}

/* ===== CARDS ===== */
.card {
  margin-top:12px;
  border:1px solid #20242a;
  border-radius:16px;
  overflow:hidden;
  background:#0f1318;
}
.imgBox {
  aspect-ratio:3/4;
  background:#111;
}
.imgBox img {
  width:100%;
  height:100%;
  object-fit:cover;
}
.bar {
  display:flex;
  justify-content:space-between;
  padding:10px 12px;
}
.vote {
  padding:10px 14px;
  border-radius:12px;
  background:#131920;
  border:1px solid #39ff14;
  color:#39ff14;
  cursor:pointer;
}
.vote:disabled {
  opacity:.4;
  cursor:default;
}

/* ===== THUMB GRID ===== */
.thumbs {
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:12px;
  margin-top:18px;
}

/* ===== THUMB CARD ===== */
.thumb {
  position:relative;
  border-radius:14px;
  overflow:hidden;
  cursor:pointer;
  background:#0f1318;
  border:1px solid rgba(57,255,20,.35);
  box-shadow:
    0 0 8px rgba(57,255,20,.15),
    inset 0 0 0 1px rgba(57,255,20,.15);
  transition:
    box-shadow .2s ease,
    transform .15s ease;
}

/* Hover glow */
.thumb:hover {
  transform:translateY(-1px);
  box-shadow:
    0 0 14px rgba(57,255,20,.45),
    0 0 32px rgba(57,255,20,.25),
    inset 0 0 0 1px rgba(57,255,20,.4);
}

/* Active (selected) match glow */
.thumb.active {
  box-shadow:
    0 0 18px rgba(57,255,20,.9),
    0 0 48px rgba(57,255,20,.55),
    inset 0 0 0 2px rgba(57,255,20,.9);
}

/* ===== VS SPLIT IMAGE ===== */
.thumb-img {
  position:relative;
  width:100%;
  aspect-ratio:3/4;
  background:#0b0f13;
}

.thumb-img img {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Diagonal split (NO LINE) */
.thumb-img img.left {
  clip-path:polygon(0% 0%, 100% 0%, 0% 100%);
}
.thumb-img img.right {
  clip-path:polygon(100% 0%, 100% 100%, 0% 100%);
}
</style>
</head>

<body>
<div class="wrap">

<h1>ART BATTLE. Faction I.</h1>

<div class="timer">04:48:00</div>
<div id="roundLabel">Round of 32</div>

<!-- ACTIVE MATCH -->
<div class="card">
  <div class="imgBox">
    <img id="imgLeft">
  </div>
  <div class="bar">
    <span>Top</span>
    <span id="countLeft">0</span>
    <button class="vote" id="voteLeft">Vote</button>
  </div>
</div>

<div class="card">
  <div class="imgBox">
    <img id="imgRight">
  </div>
  <div class="bar">
    <span>Bottom</span>
    <span id="countRight">0</span>
    <button class="vote" id="voteRight">Vote</button>
  </div>
</div>

<!-- THUMBNAILS -->
<div class="thumbs" id="thumbs"></div>

</div>

<script>
/* =========================
   TOURNAMENT CORE
   First to 2 votes advances
========================= */

const rounds = [
  { name:"Round of 32", matches:[] },
  { name:"Round of 16", matches:[] },
  { name:"Quarterfinals", matches:[] },
  { name:"Semifinals", matches:[] },
  { name:"Final", matches:[] }
];

// Placeholder images
const seeds = Array.from({length:32},(_,i)=>({
  img:`https://picsum.photos/seed/${i}/600/800`
}));

// Build R32
for (let i=0;i<32;i+=2){
  rounds[0].matches.push({
    left:seeds[i],
    right:seeds[i+1],
    leftVotes:0,
    rightVotes:0,
    winner:null
  });
}

let currentRound = 0;
let currentMatch = 0;

/* DOM */
const imgLeft   = document.getElementById("imgLeft");
const imgRight  = document.getElementById("imgRight");
const countLeft = document.getElementById("countLeft");
const countRight= document.getElementById("countRight");
const voteLeft  = document.getElementById("voteLeft");
const voteRight = document.getElementById("voteRight");
const thumbsEl  = document.getElementById("thumbs");
const roundLabel= document.getElementById("roundLabel");

/* RENDER */
function render(){
  const m = rounds[currentRound].matches[currentMatch];

  imgLeft.src = m.left.img;
  imgRight.src = m.right.img;
  countLeft.textContent = m.leftVotes;
  countRight.textContent = m.rightVotes;

  voteLeft.disabled = !!m.winner;
  voteRight.disabled = !!m.winner;

  roundLabel.textContent = rounds[currentRound].name;

  renderThumbs();
}

function renderThumbs(){
  thumbsEl.innerHTML = "";
  rounds[currentRound].matches.forEach((m,i)=>{
    const t = document.createElement("div");
    t.className = "thumb" + (i===currentMatch?" active":"");
    t.innerHTML = `
      <div class="thumb-img">
        <img class="left" src="${m.left.img}">
        <img class="right" src="${m.right.img}">
      </div>
    `;
    t.onclick = ()=>{
      currentMatch=i;
      render();
    };
    thumbsEl.appendChild(t);
  });
}

/* VOTING */
function vote(side){
  const m = rounds[currentRound].matches[currentMatch];
  if (m.winner) return;

  side==="left" ? m.leftVotes++ : m.rightVotes++;

  if (m.leftVotes>=2 || m.rightVotes>=2){
    m.winner = m.leftVotes > m.rightVotes ? m.left : m.right;
    advance(m.winner);
  }
  render();
}

voteLeft.onclick  = ()=>vote("left");
voteRight.onclick = ()=>vote("right");

/* ADVANCE */
function advance(winner){
  const next = rounds[currentRound+1];
  if (!next) return;

  const idx = Math.floor(currentMatch/2);
  if (!next.matches[idx]){
    next.matches[idx]={ left:winner, right:null, leftVotes:0, rightVotes:0, winner:null };
  } else {
    next.matches[idx].right = winner;
  }

  if (rounds[currentRound].matches.every(m=>m.winner)){
    currentRound++;
    currentMatch=0;
  }
}

/* INIT */
render();
</script>

</body>
</html>